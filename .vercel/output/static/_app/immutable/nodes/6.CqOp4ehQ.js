import{s as Y,a as F,e as J,b as oe,u as ie,g as ce,d as fe,o as ue,f as L,n as Z}from"../chunks/Bu-Z9Ww-.js";import{S as ee,i as te,k as j,l as z,m as H,n as E,o as I,p as q,s as D,e as k,q as de,d as h,f as N,c as y,a as w,r as le,u as b,g as M,h as p,v as re,z as _e,t as se,b as ne,y as he,w as ae,x as P,j as ge}from"../chunks/CACKcR36.js";import{I as me,g as pe,a as ve,e as A,u as be,o as $e,f as O}from"../chunks/Cqhikt5H.js";import{C as ke}from"../chunks/DMwXLexJ.js";import{N as ye}from"../chunks/DrODZuoJ.js";import{f as we}from"../chunks/Dj3ERaIp.js";import{T as xe}from"../chunks/Ds1iR5GE.js";function Ee(a){let e;const t=a[2].default,s=oe(t,a,a[3],null);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,l){s&&s.m(r,l),e=!0},p(r,l){s&&s.p&&(!e||l&8)&&ie(s,t,r,r[3],e?fe(t,r[3],l,null):ce(r[3]),null)},i(r){e||(E(s,r),e=!0)},o(r){I(s,r),e=!1},d(r){s&&s.d(r)}}}function Ie(a){let e,t;const s=[{name:"arrow-up"},a[1],{iconNode:a[0]}];let r={$$slots:{default:[Ee]},$$scope:{ctx:a}};for(let l=0;l<s.length;l+=1)r=F(r,s[l]);return e=new me({props:r}),{c(){j(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,o){H(e,l,o),t=!0},p(l,[o]){const u=o&3?pe(s,[s[0],o&2&&ve(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(u.$$scope={dirty:o,ctx:l}),e.$set(u)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Te(a,e,t){let{$$slots:s={},$$scope:r}=e;const l=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];return a.$$set=o=>{t(1,e=F(F({},e),J(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=J(e),[l,e,s,r]}class Ce extends ee{constructor(e){super(),te(this,e,Te,Ie,Y,{})}}function K(a,e,t){const s=a.slice();return s[7]=e[t],s}function Q(a,e,t){const s=a.slice();return s[10]=e[t],s}function R(a){let e,t=a[10].label+"",s,r,l,o,u;function c(){return a[5](a[10])}return{c(){e=k("button"),s=se(t),r=D(),this.h()},l(n){e=y(n,"BUTTON",{class:!0});var i=w(e);s=ne(i,t),r=N(i),i.forEach(h),this.h()},h(){b(e,"class",l="px-4 py-2 rounded-full text-sm font-medium transition-colors "+(a[3]===a[10].id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"))},m(n,i){M(n,e,i),p(e,s),p(e,r),o||(u=he(e,"click",c),o=!0)},p(n,i){a=n,i&8&&l!==(l="px-4 py-2 rounded-full text-sm font-medium transition-colors "+(a[3]===a[10].id?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"))&&b(e,"class",l)},d(n){n&&h(e),o=!1,u()}}}function De(a){let e,t=[],s=new Map,r,l,o=A(a[0]);const u=c=>c[7].id;for(let c=0;c<o.length;c+=1){let n=K(a,o,c),i=u(n);s.set(i,t[c]=X(i,n))}return{c(){e=k("div");for(let c=0;c<t.length;c+=1)t[c].c();this.h()},l(c){e=y(c,"DIV",{class:!0});var n=w(e);for(let i=0;i<t.length;i+=1)t[i].l(n);n.forEach(h),this.h()},h(){b(e,"class","grid grid-cols-1 lg:grid-cols-2 gap-6")},m(c,n){M(c,e,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);l=!0},p(c,n){n&1&&(o=A(c[0]),ae(),t=be(t,n,u,1,c,o,s,e,$e,X,null,K),re())},i(c){if(!l){for(let n=0;n<o.length;n+=1)E(t[n]);c&&(r||L(()=>{r=P(e,O,{}),r.start()})),l=!0}},o(c){for(let n=0;n<t.length;n+=1)I(t[n]);l=!1},d(c){c&&h(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function Ne(a){let e,t,s;return{c(){e=k("div"),t=se(a[2]),this.h()},l(r){e=y(r,"DIV",{class:!0});var l=w(e);t=ne(l,a[2]),l.forEach(h),this.h()},h(){b(e,"class","text-center text-red-600 dark:text-red-400 py-8")},m(r,l){M(r,e,l),p(e,t)},p(r,l){l&4&&ge(t,r[2])},i(r){r&&(s||L(()=>{s=P(e,O,{}),s.start()}))},o:Z,d(r){r&&h(e)}}}function Ve(a){let e,t,s,r;return t=new ke({props:{size:"60",color:"#3B82F6",unit:"px",duration:"1s"}}),{c(){e=k("div"),j(t.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var o=w(e);z(t.$$.fragment,o),o.forEach(h),this.h()},h(){b(e,"class","flex justify-center items-center h-64")},m(l,o){M(l,e,o),H(t,e,null),r=!0},p:Z,i(l){r||(E(t.$$.fragment,l),l&&(s||L(()=>{s=P(e,O,{}),s.start()})),r=!0)},o(l){I(t.$$.fragment,l),r=!1},d(l){l&&h(e),q(t)}}}function X(a,e){let t,s,r,l="Trending",o,u,c,n,i,T;return u=new Ce({props:{class:"w-4 h-4 text-green-500"}}),n=new ye({props:{item:e[7]}}),{key:a,first:null,c(){t=k("div"),s=k("div"),r=k("span"),r.textContent=l,o=D(),j(u.$$.fragment),c=D(),j(n.$$.fragment),i=D(),this.h()},l(d){t=y(d,"DIV",{class:!0});var _=w(t);s=y(_,"DIV",{class:!0});var $=w(s);r=y($,"SPAN",{class:!0,"data-svelte-h":!0}),le(r)!=="svelte-1kli2gd"&&(r.textContent=l),o=N($),z(u.$$.fragment,$),$.forEach(h),c=N(_),z(n.$$.fragment,_),i=N(_),_.forEach(h),this.h()},h(){b(r,"class","text-sm font-medium"),b(s,"class","absolute top-2 right-2 z-10 flex items-center gap-1 px-2 py-1 rounded-full bg-white dark:bg-gray-800 shadow-lg"),b(t,"class","relative"),this.first=t},m(d,_){M(d,t,_),p(t,s),p(s,r),p(s,o),H(u,s,null),p(t,c),H(n,t,null),p(t,i),T=!0},p(d,_){e=d;const $={};_&1&&($.item=e[7]),n.$set($)},i(d){T||(E(u.$$.fragment,d),E(n.$$.fragment,d),T=!0)},o(d){I(u.$$.fragment,d),I(n.$$.fragment,d),T=!1},d(d){d&&h(t),q(u),q(n)}}}function Me(a){let e,t,s,r,l,o,u,c="Trending Stories",n,i,T,d,_,$;l=new xe({props:{class:"w-8 h-8 text-blue-600"}});let S=A(a[4]),g=[];for(let f=0;f<S.length;f+=1)g[f]=R(Q(a,S,f));const U=[Ve,Ne,De],C=[];function W(f,x){return f[1]?0:f[2]?1:2}return d=W(a),_=C[d]=U[d](a),{c(){e=D(),t=k("div"),s=k("div"),r=k("div"),j(l.$$.fragment),o=D(),u=k("h1"),u.textContent=c,n=D(),i=k("div");for(let f=0;f<g.length;f+=1)g[f].c();T=D(),_.c(),this.h()},l(f){de("svelte-1pxogmg",document.head).forEach(h),e=N(f),t=y(f,"DIV",{class:!0});var v=w(t);s=y(v,"DIV",{class:!0});var m=w(s);r=y(m,"DIV",{class:!0});var V=w(r);z(l.$$.fragment,V),o=N(V),u=y(V,"H1",{class:!0,"data-svelte-h":!0}),le(u)!=="svelte-1vg662c"&&(u.textContent=c),V.forEach(h),n=N(m),i=y(m,"DIV",{class:!0});var G=w(i);for(let B=0;B<g.length;B+=1)g[B].l(G);G.forEach(h),m.forEach(h),T=N(v),_.l(v),v.forEach(h),this.h()},h(){document.title="Trending Stories | DiplomMap",b(u,"class","text-2xl font-bold"),b(r,"class","flex items-center gap-3"),b(i,"class","flex gap-2"),b(s,"class","flex items-center justify-between mb-8"),b(t,"class","container mx-auto px-4 py-6")},m(f,x){M(f,e,x),M(f,t,x),p(t,s),p(s,r),H(l,r,null),p(r,o),p(r,u),p(s,n),p(s,i);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(i,null);p(t,T),C[d].m(t,null),$=!0},p(f,[x]){if(x&24){S=A(f[4]);let m;for(m=0;m<S.length;m+=1){const V=Q(f,S,m);g[m]?g[m].p(V,x):(g[m]=R(V),g[m].c(),g[m].m(i,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=S.length}let v=d;d=W(f),d===v?C[d].p(f,x):(ae(),I(C[v],1,1,()=>{C[v]=null}),re(),_=C[d],_?_.p(f,x):(_=C[d]=U[d](f),_.c()),E(_,1),_.m(t,null))},i(f){$||(E(l.$$.fragment,f),E(_),$=!0)},o(f){I(l.$$.fragment,f),I(_),$=!1},d(f){f&&(h(e),h(t)),q(l),_e(g,f),C[d].d()}}}function Se(a,e,t){let s=[],r=!0,l=null,o="24h";const u=[{id:"1h",label:"Last Hour"},{id:"24h",label:"Last 24 Hours"},{id:"7d",label:"This Week"},{id:"30d",label:"This Month"}];async function c(){try{t(1,r=!0),t(0,s=await we("trending"))}catch(i){t(2,l="Failed to load trending news"),console.error(i)}finally{t(1,r=!1)}}return ue(()=>{c()}),[s,r,l,o,u,i=>t(3,o=i.id)]}class Le extends ee{constructor(e){super(),te(this,e,Se,Me,Y,{})}}export{Le as component};
